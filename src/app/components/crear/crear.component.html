<!-- <ion-header>
  <ion-toolbar>
    <ion-back-button defaultHref="/" slot="start"></ion-back-button>
    <ion-title>{{personaje.nombre}}</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>
  <section class="grid">
    <div class="celda">
      <span class="row1-col1">Class:</span>
      <ion-select class="row2-col1" placeholder="Seleccionar Clase" [(ngModel)]="personaje.clase">
        <ion-select-option *ngFor="let clase of keyClases">{{clase}}</ion-select-option>
        <!-- <ion-select-option *ngFor="let clase of serviceDB.clases | async">{{clase.nombre}}</ion-select-option> -->
      </ion-select>
      <span class="row1-col2">Background:</span>
      <ion-select class="row2-col2" placeholder="Background" [(ngModel)]="personaje.background">
        <ion-select-option *ngFor="let background of keyBackgrounds">{{background}}</ion-select-option>
        <!-- <ion-select-option *ngFor="let background of serviceDB.backgrounds | async">{{background.nombre}}</ion-select-option> -->
      </ion-select>
    </div>
    <div class="celda">
      <span class="row1-col1">Race:</span>
      <ion-select class="row2-col1" placeholder="Seleccionar Raza" [(ngModel)]="personaje.raza" (ionChange)="subracesActivator($event)">
        <ion-select-option value="{{race}}" *ngFor="let race of keyRazas">{{race}}</ion-select-option>
      </ion-select>
      <span *ngIf="raza.subraces" class="row1-col2">Subrace:</span>
      <ion-select *ngIf="raza.subraces" class="row2-col2" placeholder="Seleccionar Subraza" [(ngModel)]="personaje.subraza" (ionChange) = "subraceTrigger($event)">
        <ion-select-option value="{{subraza}}" *ngFor="let subraza of keySubrazas">{{subraza}}</ion-select-option>
      </ion-select>
    </div>
    <div class="celda">
      <span class="row1-col1">Level:</span>
      <p class="row2-col1">{{personaje.level}}</p>
      <span class="row1-col2">Proficiency:</span>
      <p class="row2-col2">+{{personaje.proficiencia}}</p>
    </div>
    <div>
      <ion-item detail button="true" (click)="abrirModal('Atributos')">
        <ion-label>
          <p>Attributes:</p>
          <h2><strong *ngFor="let stat of status">{{stat}} </strong></h2>
        </ion-label>
      </ion-item>
    </div>
    <div class="celda-button" *ngIf="this.personaje.stats">
      <ion-button (click)="AbrirPopover(true)" expand="block" fill="outline" shape="round" color="secondary">
        Stats
      </ion-button>

    </div>
    <!-- <div class="celda" *ngIf="personaje.raza == 'Half Elf' || personaje.raza == 'Human (variant)' && personaje.stats">
      asd
    </div> -->
    <div class="celda-doble">
      <ion-item [disabled]="!personaje.clase || !personaje.stats || !personaje.background" detail (click)="abrirModal('Skills')">
        <ion-label>
          <p>
            Skills
          </p>
        </ion-label>
      </ion-item>
      <ion-item [disabled]="!personaje.savings || !personaje.clase" detail (click)="AbrirPopover(false)">
        <ion-label>
          <p>
            Saving Throws
          </p>
      </ion-label>
      </ion-item>  
    </div>
    <div class="celda-languages">
      <ion-item [disabled]="!personaje.background" detail (click)="abrirModal('Languages')">
        <ion-label><p>Languages</p></ion-label>
      </ion-item>
    </div>
  </section>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="guardar()" color="success">
      <ion-icon name="save"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
